{{! Copyright (c) Avanade. Licensed under the MIT License. See https://github.com/Avanade/NTangle }}
CREATE TABLE [{{CdcSchema}}].[{{VersionTrackingTable}}] (
{{#unless Root.IsGenOnce}}
  /*
   * This is automatically generated; any changes will be lost.
   */

{{/unless}}
  [{{VersionTrackingTable}}Id] UNIQUEIDENTIFIER NOT NULL DEFAULT (NEWSEQUENTIALID()) PRIMARY KEY NONCLUSTERED ([{{VersionTrackingTable}}Id] ASC),
  [Schema] VARCHAR(63) NOT NULL,
  [Table] VARCHAR(127) NOT NULL,
  [Key] NVARCHAR(255) NOT NULL,
  [Hash] NVARCHAR(127) NOT NULL,
  [Timestamp] DATETIME2 NOT NULL,
  [BatchTrackingId] BIGINT NOT NULL,
  CONSTRAINT [IX_{{CdcSchema}}_{{VersionTrackingTable}}_SchemaTableKey] UNIQUE CLUSTERED ([Schema], [Table], [Key])
);