/*
 * This file is automatically generated; any changes will be lost. 
 */

namespace SqlServerSidecarDemo.Publisher.Entities;

/// <summary>
/// Represents the CDC model for the root (parent) database table '[Legacy].[Cust]'.
/// </summary>
public partial class CustomerCdc : IEntity, ILogicallyDeletedExtended
{
    /// <summary>
    /// Gets or sets the Id '[Legacy].[Cust].[CustId]' column value.
    /// </summary>
    [JsonPropertyName("id")]
    public int Id { get; set; }

    /// <summary>
    /// Gets or sets the Name '[Legacy].[Cust].[Name]' column value.
    /// </summary>
    [JsonPropertyName("name")]
    public string? Name { get; set; }

    /// <summary>
    /// Gets or sets the Email '[Legacy].[Cust].[Email]' column value.
    /// </summary>
    [JsonPropertyName("email")]
    public string? Email { get; set; }

    /// <summary>
    /// Gets or sets the Is Deleted '[Legacy].[Cust].[is-deleted]' column value.
    /// </summary>
    [JsonPropertyName("isDeleted")]
    public bool? IsDeleted { get; set; }

    /// <summary>
    /// Gets or sets the Row Version '[Legacy].[Cust].[RowVersion]' column value.
    /// </summary>
    [JsonPropertyName("rowVersion")]
    public byte[]? RowVersion { get; set; }

    /// <inheritdoc/>
    [JsonPropertyName("etag")]
    public string? ETag { get; set; }

    /// <inheritdoc/>
    public void ClearWhereDeleted()
    {
        if (!IsDeleted.HasValue || !IsDeleted.Value)
            return;

        Name = default!;
        Email = default!;
        IsDeleted = default!;
        RowVersion = default!;
    }

    /// <inheritdoc/>
    [JsonIgnore]
    public CompositeKey PrimaryKey => new(Id);
}